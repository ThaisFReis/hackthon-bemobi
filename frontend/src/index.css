@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
  }

  body {
    @apply bg-gray-50 text-gray-900;
  }
}

:root {
  --whatsapp-header: #005E54;
  --whatsapp-chat-bg: #efeae2;
  --whatsapp-chat-bg-pattern: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAAARMAAQMAAAA/3/JsAAAABlBMVEXMzs7///9d6N6fAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAxJREFUeNpjYBgFo2AUjAIABAABsAABp0pYwQAAAABJRU5ErkJggg==");
  --whatsapp-bubble-out: #d9fdd3;
  --whatsapp-bubble-in: #ffffff;
  --whatsapp-input-bg: #f0f2f5;
  --whatsapp-text-primary: #111b21;
  --whatsapp-text-meta: rgba(0, 0, 0, 0.6);
}

@layer components {
  /* ... seus outros componentes como .btn-primary podem permanecer aqui ... */

  /* 2. Fundo da área de chat */
  .chat-background {
    background-color: var(--whatsapp-chat-bg);
    background-image: var(--whatsapp-chat-bg-pattern);
  }
  
  /* 3. Estilo base da bolha de mensagem com animação */
  .message-bubble {
    position: relative;
    padding: 8px 12px;
    border-radius: 8px;
    max-width: 75%;
    word-wrap: break-word;
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.08);
    animation: message-in 0.3s ease-out forwards; /* Animação de entrada */
  }

  /* Cauda da bolha */
  .message-bubble::after {
    content: '';
    position: absolute;
    top: 0;
    width: 0;
    height: 0;
    border: 10px solid transparent;
  }

  /* Bolha da IA (recebida) */
  .ai-bubble {
    background-color: var(--whatsapp-bubble-in);
    color: var(--whatsapp-text-primary);
    border-top-left-radius: 0;
  }

  .ai-bubble::after {
    left: -10px;
    border-right-color: var(--whatsapp-bubble-in);
    border-left: 0;
    border-top: 0;
  }

  /* Bolha do Cliente (enviada) */
  .customer-bubble {
    background-color: var(--whatsapp-bubble-out);
    color: var(--whatsapp-text-primary);
    border-top-right-radius: 0;
  }

  .customer-bubble::after {
    right: -10px;
    border-left-color: var(--whatsapp-bubble-out);
    border-right: 0;
    border-top: 0;
  }

  /* Mensagens de sistema */
  .system-bubble {
    background-color: #e6f5ff;
    color: #555;
    font-size: 0.8rem;
    font-style: italic;
    width: fit-content;
    margin: 8px auto;
    padding: 6px 12px;
    border-radius: 16px;
    box-shadow: none;
  }

  /* 4. Indicador "Digitando..." aprimorado */
  .typing-indicator {
    display: flex;
    align-items: center;
    background-color: var(--whatsapp-bubble-in);
    padding: 10px 14px;
    border-radius: 8px;
    border-top-left-radius: 0;
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.08);
  }

  .typing-dot {
    width: 8px;
    height: 8px;
    margin: 0 2px;
    background-color: #9e9e9e;
    border-radius: 50%;
    animation: typing-bounce 1.4s infinite ease-in-out both;
  }

  .typing-dot:nth-child(1) { animation-delay: -0.32s; }
  .typing-dot:nth-child(2) { animation-delay: -0.16s; }
}

/* 5. Definição das animações */
@keyframes message-in {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes typing-bounce {
  0%, 80%, 100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1.0);
  }
}

body {
  background: linear-gradient(120deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
  color: #f0f0f0;
}